# -*- coding: utf-8 -*-
"""Percentage _Driver_Classification.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/12NtCFuYrHf-u9IdKXHievEbujq5gNPvs
"""

# ğŸš€ STEP 1: Install Required Libraries
# You probably already have pandas installed, but if not, uncomment below
# !pip install pandas

# ğŸš€ STEP 2: Import Libraries
import pandas as pd
from google.colab import files
import io

# ğŸš€ STEP 3: Upload the CSV file
print("ğŸ”¹ Please upload your behavior classification CSV file (the one with 'Behavior Class' column):")
uploaded = files.upload()

# Get the uploaded filename
filename = list(uploaded.keys())[0]

# ğŸš€ STEP 4: Read the CSV into a DataFrame
df = pd.read_csv(io.BytesIO(uploaded[filename]))

# Display the first few rows for verification
print("\nğŸ”¹ Preview of your data:")
display(df.head())

# ğŸš€ STEP 5: Check if 'Behavior Class' column exists
if 'Behavior Class' not in df.columns:
    raise ValueError("âŒ The file does not contain a 'Behavior Class' column. Please check your CSV.")

# ğŸš€ STEP 6: Count the number of vehicles in each class
counts = df['Behavior Class'].value_counts()
total = counts.sum()

# ğŸš€ STEP 7: Calculate percentages
percentages = (counts / total) * 100

# ğŸš€ STEP 8: Combine counts and percentages into a summary table
summary_df = pd.DataFrame({
    'Count of Vehicles': counts,
    'Percentage (%)': percentages.round(2)
}).reset_index().rename(columns={'index': 'Behavior Class'})

# ğŸš€ STEP 9: Display the summary table
print("\nâœ… Summary of Behavior Classification:")
display(summary_df)

# ğŸš€ STEP 10: Print plain text output for clarity
print("\nğŸ”¹ Plain text output:")
for i, row in summary_df.iterrows():
    print(f"{row['Behavior Class']}: {row['Count of Vehicles']} vehicles ({row['Percentage (%)']}%)")

# ğŸš€ STEP 11: (Optional) Save the summary as a CSV
summary_df.to_csv('Behavior_Class_Summary.csv', index=False)
print("\nâœ… Summary CSV saved as 'Behavior_Class_Summary.csv'")